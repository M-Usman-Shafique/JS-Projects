<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Day#7</title>
  </head>
  <body>
    <script>
      //   function asyncFunc() {
      //     console.log("Hello");
      //     setTimeout(() => {
      //         console.log("Usman")
      //     }, 0);
      //     console.log("My name is");
      //   }

      //   asyncFunc();

      // --------- Artificially Created Promise -------- //

      function simulation() {
        return new Promise((resolve, reject) => {
          setTimeout(() => {
            const success = Math.random() > 0.5;
            if (success) {
              resolve("Operation succeeded");
            } else {
              reject("Operation failed");
            }
          }, 0);
        });
      }

      //------- Handling Promise using .then() -------//
      //   simulation()
      //     .then((result) => console.log(result))
      //     .catch((error) => console.log(error));

      // --------- Handling using async await ------- //
      const runSimulation = async () => {
        try {
          const result = await simulation();
          console.log(result);
        } catch (error) {
          console.log(error);
        }
      };

      runSimulation();

      // ------- Promise Response ------- //

      //   function Fetch() {
      //     const fetchData = fetch("https://jsonplaceholder.typicode.com/users");
      //     fetchData
      //       .then((response) => {
      //         return response.json();
      //       })
      //       .then((users) => {
      //         users.map((user) => console.log(user.name));
      //       });
      //   }

      //   let count = 0;
      //   const timer = setInterval(() => {
      //     Fetch();
      //     count++;
      //     console.log(count)

      //     if (count > 2) {
      //       clearInterval(timer);
      //       console.log(`Data fetched ${count} times`)
      //     }
      //   }, 2000);

      // ----------- async await --------- //

      // async function Fetch() {
      //     const response = await fetch("https://jsonplaceholder.typicode.com/users")
      //     let users  = await response.json();
      //     users.map(user => console.log(user.name))
      // }

      // Fetch();
    </script>
  </body>
</html>
